Generic versions are not in working order.  The rest should be correct.

The main files are
stack-int.h  (serial)
nb-stack-int.h (nonblocking)

and 
main-int.cpp